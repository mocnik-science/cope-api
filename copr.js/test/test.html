<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Test</title>
    <link rel="stylesheet" href="https://unpkg.com/mocha/mocha.css"/>
  </head>
  <body>
    <div style="font: 14px/1.5 'Helvetica Neue', Helvetica, Arial, sans-serif; font-style: italic; margin : 60px 50px 0">Open the Javascript Console to show the output.</div>
    <h1 style="font: 20px/1.5 'Helvetica Neue', Helvetica, Arial, sans-serif; margin: 30px 50px 0">Tests</h1>
    <div id="mocha" style="margin-top: 0"></div>
    <script src="https://unpkg.com/jmespath@latest/artifacts/jmespath.min.js"></script>
    <script src="../dist/copr.min.js"></script>
    <script src="https://unpkg.com/chai/chai.js"></script>
    <script src="https://unpkg.com/mocha/mocha.js"></script>
    <script class="mocha-init">
      mocha.setup('bdd')
      mocha.checkLeaks()
    </script>
    <script src="test.mjs" type="module"></script>
    <script class="mocha-exec">
      mocha.run()
    </script>
    <script>
      console.log(COPR.apiVersion())
      console.log(COPR.dataset())
      console.log(COPR.stats())

      // for (const representation of COPR.representations()) {
      for (const representation of COPR.representations({label: 'London'})) {
        console.log('===')
        console.log(representation)
        console.log(representation.howToCite())
        console.log(representation.label())
        console.log(representation.natural())
        console.log(representation.description())
        console.log(representation.assets())
        console.log(representation.places())
        console.log(representation.references())
        console.log(representation.references()[0].representamen())
        console.log(representation.references()[0].representamen().label())
        console.log('==')
        console.log(representation.references()[0].aspectOfRepresentamen())
        console.log(representation.references()[0].aspectOfRepresentamen().id())
        console.log(representation.references()[0].aspectOfRepresentamen().qualities())
        console.log(representation.references()[0].aspectOfRepresentamen().qualities()[0].kind())
        console.log(representation.references()[0].aspectOfRepresentamen().qualities()[0].canBeDescribedAs())
        console.log(representation.references()[0].aspectOfRepresentamen().comparators())
        console.log(representation.references()[0].aspectOfRepresentamen().comparators()[0])
        console.log(representation.references()[0].aspectOfRepresentamen().comparators()[0].selection().x())
        console.log(representation.references()[0].aspectOfRepresentamen().comparators()[2])
        console.log(representation.references()[0].aspectOfRepresentamen().comparators()[2].includesSelections()[1].x())
        console.log(representation.references()[0].aspectOfRepresentamen().comparators()[2].hasRelevantArrangementOfComparators())
        console.log(representation.references()[0].aspectOfRepresentamen().comparators()[2].id())
        console.log(representation.references()[0].aspectOfRepresentamen().comparators()[2].object())
        console.log(representation.references()[0].aspectOfRepresentamen().comparators()[2].object().label())
        console.log('==')
        console.log(representation.references()[0].typeOfReference())
        console.log(representation.references()[0].representantum())
        console.log(representation.references()[0].representantum().label())
        console.log(representation.references()[0].aspectOfRepresentantum())
        console.log(representation.references()[0].aspectOfRepresentantum().id())
        console.log(representation.literature())
      }

      // for (const asset of COPR.assets({label_: 'key hanger of the Tower Bridge'})) {
      for (const asset of COPR.assets({label: 'Tower Bridge', unique: false, hasFiles: true})) {
        console.log('===')
        console.log(asset.howToCite())
        console.log(asset.id())
        console.log(asset.label())
        console.log(asset.description())
        console.log(asset.manifestationKind())
        console.log(asset.unique())
        console.log(asset.files())
        console.log(asset.files()[0].filename())
        console.log(asset.files()[0].isTheFile())
        console.log(asset.selections()[0].x())
        console.log(asset.selections()[0].file().filename())
        console.log(asset.selections()[0].file().isTheFile())
      }

      for (const aspect of COPR.aspects({qualityKind: 'colour'})) {
        console.log('===')
        console.log(aspect.id())
      }
      for (const aspect of COPR.aspects({qualityCanBeDescribedAs: 'bitter'})) {
        console.log('===')
        console.log(aspect.id())
      }
      for (const aspect of COPR.aspects({qualityCanBeDescribedAs_: 'bitter taste'})) {
        console.log('===')
        console.log(aspect.id())
      }

      for (const literature of COPR.literature({author: 'Mocnik'})) {
        console.log('===')
        console.log(literature.author())
        console.log(literature.title())
      }
    </script>
  </body>
</html>
